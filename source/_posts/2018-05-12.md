---
title: 杂谈：关于wamp局域网访问
date: 2018-05-12
tags:
- 杂谈
---


![403.png-325.1kB][2]



最近在上软件测试课，最后一次实验课使用loadRunner测试一个系统，小组讨论后决定拉出我那个老管理系统进行测试
（如果说这世界有什么莫名其妙的事情，大概放久了的代码再拿出来总会出bug能称得上一件，还是改了一阵子的便不赘述了）
因为丢到windows虚拟机，故配了一波wamp开发环境，其中出现了局域网其他电脑一直访问不到apache的403没权限问题，查了好久都没解决，最后自己瞎改改好了


<!--more-->

---

### 大体方法

首先大家都知道要改的是apache下面的httpd.conf文件，一千年没用wamp了（想起大一刚到华工对着php100垃圾视频写php的日子）
观察了下这个文件的结构，大概是类似XML的格式，和本文关联大概是每个目录标签，里面记录这些目录的信息，

- 文件位于
	- 单击右下角wamp图标
	- 选择Apache选项
	- 其中就有httpd.conf

如下的标签所示，代表的是对根目录/的描述，针对每个目录，我们可以规定不同的配置，比如访问权限等等。
```
<Directory />
</Directory>
```


初次出现问题之后于网上搜索，发现仍存在大量作如下修改的答案，即将访问权限改为Allow from all
```
<Directory />
    Options Indexes FollowSymLinks ExecCGI
    Order allow,deny
    Allow from all
    AllowOverride All
</Directory>
```
殊不知apache在2.4之后，对于权限控制已经改用新模块mod_authz_host了，具体使用方法为Require granted/denied
作修改如下：
```
<Directory />
    Options Indexes FollowSymLinks ExecCGI
    Require all granted
    AllowOverride All
</Directory>
```

> - 当然对于一个开放端口的web应用来说这是个危险的行为，因为这里只作内部测试之用便无碍
- 关于语句含义以及详细使用方法可以参考[stackoverflow的答案](https://stackoverflow.com/questions/10873295/error-message-forbidden-you-dont-have-permission-to-access-on-this-server?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa)


### 但是这仍没有解决我的问题

之后搜索无力，网上都说这样改了肯定好了，就死马当活马医把各个配置文件关于根目录的都给改了，然后在改到一个叫httpd-vhosts.conf的文件之后就好了，修改方法同上，这文件在httpd.conf的下边，每次修改都要put online一次或者restart all sevices.


![apache.png-1144.7kB][3]

![ers.png-1983.9kB][1]






  [1]: http://static.zybuluo.com/jyyzzj/pvvxdd63o676a0hyl2gbxnpi/ers.png
  [2]: http://static.zybuluo.com/jyyzzj/u1lmewa5vcv62xut1fik31d3/403.png
  [3]: http://static.zybuluo.com/jyyzzj/n8cx2c1aiunc2rqwixjj62d3/apache.png