<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta property='og:image' content="/img/ogimage.jpeg">
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/avatar.jpeg">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/avatar.jpeg">
  <link rel="mask-icon" href="/img/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideRightIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Leetcode每周碎碎念——参加了一个训练计划，每周输出一个Leetcode题目，除了有特别想总结的专题，通常会把内容都倒到这里。">
<meta name="keywords" content="Coding">
<meta property="og:type" content="article">
<meta property="og:title" content="Leetcode Weekly">
<meta property="og:url" content="http://yoursite.com/2020/06/14/leetcode-weekly/index.html">
<meta property="og:site_name" content="Zejun Lin&#39;s Blog">
<meta property="og:description" content="Leetcode每周碎碎念——参加了一个训练计划，每周输出一个Leetcode题目，除了有特别想总结的专题，通常会把内容都倒到这里。">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://i.loli.net/2020/07/13/4thRqQGD1OyY3La.png">
<meta property="og:image" content="https://i.loli.net/2020/07/13/GivAThULFgQyBS8.png">
<meta property="og:image" content="http://yoursite.com/img/post_img/20200621173924573.png">
<meta property="og:image" content="http://yoursite.com/img/post_img/20200621175530790.png">
<meta property="og:updated_time" content="2020-07-20T00:52:14.652Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Leetcode Weekly">
<meta name="twitter:description" content="Leetcode每周碎碎念——参加了一个训练计划，每周输出一个Leetcode题目，除了有特别想总结的专题，通常会把内容都倒到这里。">
<meta name="twitter:image" content="https://i.loli.net/2020/07/13/4thRqQGD1OyY3La.png">

<link rel="canonical" href="http://yoursite.com/2020/06/14/leetcode-weekly/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Leetcode Weekly | Zejun Lin's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Zejun Lin's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">异国漂泊，野蛮生长</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/14/leetcode-weekly/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/avatar.jpeg">
      <meta itemprop="name" content="Daniel">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zejun Lin's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Leetcode Weekly
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-14 17:19:18" itemprop="dateCreated datePublished" datetime="2020-06-14T17:19:18-04:00">2020-06-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-19 20:52:14" itemprop="dateModified" datetime="2020-07-19T20:52:14-04:00">2020-07-19</time>
              </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Leetcode每周碎碎念——参加了一个训练计划，每周输出一个Leetcode题目，除了有特别想总结的专题，通常会把内容都倒到这里。</p>
<a id="more"></a>
<h2 id="Smallest-Common-Region"><a href="#Smallest-Common-Region" class="headerlink" title="Smallest Common Region"></a><a href="https://leetcode.com/problems/smallest-common-region" target="_blank" rel="noopener">Smallest Common Region</a></h2><p>一个单次询问的 <strong>LCA (Lowest Common Ancestor)</strong> 问题， 题目给出一堆Regions，给出Region之间的包含关系，然后求一个最小的包含两个Regions A, B的一个Region。可以看出这是一棵树，求的是节点 A, B的最低祖先。</p>
<p>题目输入样例是一堆 List, 比如 <code>[&quot;Earth&quot;,&quot;North America&quot;,&quot;South America&quot;]</code> 代表 <code>Earth</code> 包含后面所有的，当然它也包含它本身。</p>
<blockquote>
<p> 这里有个常用的技巧是 <strong>dfs 的出入时间</strong>，即你运行一个dfs，每次转移时间 t 就加一，那么对于每个点 （假设为 i），都有个进入的时间 tin[i] 和出去的时间 tout[i]，不难得出，如果点 i 为 j 的祖先，那么 <strong>j 的 tin 和 tout必然被包含在 i 的 tin 和 tout 中</strong>。</p>
</blockquote>
<p>因为这周有点赶时间，下面贴出有点丑的代码和注释。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findSmallestRegion</span><span class="params">(self, regions: List[List[str]], region1: str, region2: str)</span> -&gt; str:</span></span><br><span class="line">        graph = &#123;line[<span class="number">0</span>]:line[<span class="number">1</span>:] <span class="keyword">for</span> line <span class="keyword">in</span> regions&#125;</span><br><span class="line">        regions = set() <span class="comment"># 存所有节点</span></span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> graph.values():</span><br><span class="line">            regions |= set(line)</span><br><span class="line">        nodes = set(regions) <span class="comment"># 此时 node 为有入度的点</span></span><br><span class="line">        regions |= set(graph.keys())</span><br><span class="line">        roots = regions - nodes <span class="comment"># 减去后即是没有入度的点，即为这片森林的树根们</span></span><br><span class="line"></span><br><span class="line">        tinout = &#123;&#125; <span class="comment"># 我们用字典来存出入时间，&#123;node_id: (tin, tout)&#125;</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(region, t)</span>:</span></span><br><span class="line">            <span class="string">"""return the lastest used time t"""</span></span><br><span class="line">            <span class="keyword">if</span> region <span class="keyword">not</span> <span class="keyword">in</span> tinout:</span><br><span class="line">                tinout[region] = [t, <span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">for</span> child <span class="keyword">in</span> graph.get(region, []):</span><br><span class="line">                t = dfs(child, t+<span class="number">1</span>)</span><br><span class="line">            t += <span class="number">1</span></span><br><span class="line">            tinout[region][<span class="number">1</span>] = t</span><br><span class="line">            <span class="keyword">return</span> t</span><br><span class="line">        t = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">for</span> region <span class="keyword">in</span> roots: <span class="comment"># 对于所有树根都dfs一下</span></span><br><span class="line">            t = dfs(region, t+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">is_ancestor</span><span class="params">(f, c)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> tinout[f][<span class="number">0</span>] &lt;= tinout[c][<span class="number">0</span>] <span class="keyword">and</span> tinout[c][<span class="number">1</span>] &lt;= tinout[f][<span class="number">1</span>]</span><br><span class="line">        ans = <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">for</span> region <span class="keyword">in</span> regions:</span><br><span class="line">            <span class="keyword">if</span> is_ancestor(region, region1) <span class="keyword">and</span> is_ancestor(region, region2):</span><br><span class="line">                <span class="keyword">if</span> ans <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">or</span> is_ancestor(ans, region):</span><br><span class="line">                    ans = region</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="Minesweeper"><a href="#Minesweeper" class="headerlink" title="Minesweeper"></a><a href="https://leetcode.com/problems/minesweeper" target="_blank" rel="noopener">Minesweeper</a></h2><ul>
<li><p><a href="https://en.wikipedia.org/wiki/Minesweeper_(video_game" target="_blank" rel="noopener">Wikipedia</a>)     </p>
</li>
<li><p><a href="http://minesweeperonline.com/" target="_blank" rel="noopener">online game</a></p>
</li>
</ul>
<p>扫雷，游戏规则想必都很熟悉，这个题目就是模拟下用户点击某个位置后，系统给出的结果。</p>
<p>简单地说下游戏规则</p>
<ul>
<li>点开的格子里<ul>
<li>是数字的，代表这个各自周围的八个格子中有多少个雷</li>
<li>空格代表没雷</li>
</ul>
</li>
<li>没点开的格子<ul>
<li>可能是雷，数字或空格</li>
</ul>
</li>
</ul>
<p>玩家点开一个没点开的格子</p>
<ul>
<li>如果是雷，游戏结束</li>
<li>如果那个格子周围有雷，那么格子翻开显示一个数字代表周围有几个雷</li>
<li>如果那个格子是个空格，那么系统自动帮玩家开这个格子周围的所有格，以此递归</li>
</ul>
<p>这道题本身没有什么意思，就简单地按照规则bfs一下就好了，给出随手写的代码如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">updateBoard</span><span class="params">(self, board: List[List[str]], click: List[int])</span> -&gt; List[List[str]]:</span></span><br><span class="line">    visited = &#123;tuple(click)&#125;</span><br><span class="line">    n, m = len(board), len(board[<span class="number">0</span>])</span><br><span class="line">    click = [click]</span><br><span class="line">    <span class="keyword">while</span> click:</span><br><span class="line">        nclick = []</span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> click:</span><br><span class="line">            <span class="keyword">if</span> board[i][j] == <span class="string">'M'</span>:</span><br><span class="line">                board[i][j] = <span class="string">'X'</span></span><br><span class="line">            <span class="keyword">elif</span> board[i][j] == <span class="string">'E'</span>:</span><br><span class="line">                tmp, n_mines = [], <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> di <span class="keyword">in</span> range(<span class="number">-1</span>, <span class="number">2</span>):</span><br><span class="line">                    <span class="keyword">for</span> dj <span class="keyword">in</span> range(<span class="number">-1</span>, <span class="number">2</span>):</span><br><span class="line">                        <span class="keyword">if</span> di == dj == <span class="number">0</span>:</span><br><span class="line">                            <span class="keyword">continue</span></span><br><span class="line">                        ni, nj = i + di, j + dj</span><br><span class="line">                        <span class="keyword">if</span> <span class="keyword">not</span> (<span class="number">0</span> &lt;= ni &lt; n <span class="keyword">and</span> <span class="number">0</span> &lt;= nj &lt;m) <span class="keyword">or</span> (ni, nj) <span class="keyword">in</span> visited:</span><br><span class="line">                            <span class="keyword">continue</span></span><br><span class="line">                        tmp.append((ni, nj))</span><br><span class="line">                        <span class="keyword">if</span> board[ni][nj] == <span class="string">'M'</span>:</span><br><span class="line">                            n_mines += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> n_mines:</span><br><span class="line">                    nclick += tmp</span><br><span class="line">                    visited |= set(tmp)</span><br><span class="line">                    board[i][j] = <span class="string">'B'</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    board[i][j] = str(n_mines)</span><br><span class="line">        click = nclick</span><br><span class="line">    <span class="keyword">return</span> board</span><br></pre></td></tr></table></figure>
<p>但我做了这题之后，得益于题目的游戏链接，不可自拔地玩了一周的扫雷。。。</p>
<p>闲起来就点点，还是蛮有意思的，有种比赛打题目的感觉，medium从一开始的一百左右玩到了五十多。</p>
<p><img src="https://i.loli.net/2020/07/13/4thRqQGD1OyY3La.png" alt="Screen Shot 2020-07-11 at 2.12.39 PM"></p>
<p><img src="https://i.loli.net/2020/07/13/GivAThULFgQyBS8.png" alt="Screen Shot 2020-07-11 at 11.22.12 AM"></p>
<h2 id="Median-of-Two-Sorted-Arrays"><a href="#Median-of-Two-Sorted-Arrays" class="headerlink" title="Median of Two Sorted Arrays"></a><a href="https://leetcode.com/problems/median-of-two-sorted-arrays" target="_blank" rel="noopener">Median of Two Sorted Arrays</a></h2><h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>题意为给两个sorted array，找出他们的中位数。</p>
<p>比如</p>
<ul>
<li>A = [1, 3]， B = [2]，则median = 2</li>
<li>A = [1, 2]， B = [3, 4]，则median = (2 + 3) / 2 = 2.5</li>
</ul>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>假设两个数组长度分别为n, m，一个Trivial的解法可能是讲两个数组merge起来，然后找中间的那个，复杂度是O(n + m)。当然，题目本意是要个 log (n+m) 级别的算法。其实这个题目并不难，<strong>“排好序”</strong> + <strong>“log级别”</strong>，很明显就是用<strong>二分</strong>来做， 只是没有清晰思路的话很容易被各种<strong>corner case</strong>绕晕。</p>
<p>我从这个题目中<strong>学到的</strong>就是要对每样东西都有 <strong>清晰的定义</strong>， 比如<strong>中位数</strong>， 比如写代码时候的每一个<strong>变量</strong></p>
<blockquote>
<p>在统计学上，<strong>中位数</strong> 用于将 一个数字集合 分成<strong>长度相等</strong>的两个子集，且其中一个集合的任意数字 <strong>大于</strong> 另外一个集合的所有数字。</p>
<ul>
<li>那么，对于偶数长度的集合，假设分为 left 和 right 两个集合且 left &lt; right，则 median = $\frac{\max(left) + \min(right)}{2}$</li>
<li>对于奇数长度的，median为将left 和 right分开的最中间的那个元素。</li>
</ul>
</blockquote>
<p>清楚了中位数的定义之后，就知道其实我们只要分别把A, B分成两部分，假设为 leftA, rightA, leftB, rightB，且满足两个条件</p>
<ol>
<li>左右长度相等：len(leftA) + len(leftB) == len(rightA) + len(rightB) == (len(A) + len(B)) // 2</li>
<li>左边的任意元素小于右边：已知排好序，所以 leftA &lt; rightA 且 leftB &lt; rightB，所以只要保证 leftA &lt; rightB 且 leftB &lt; rightA 就行了</li>
</ol>
<p>这里可以看出，假设我们知道A怎么分，比如leftA最后一个元素的index是i，那么根据1就可以算出B是怎么分的（假设leftB最后一个元素index是j），然后就能 O(1) check下是否满足 2。容易知道，我们可以用二分来找到 A 的分法，即index i。</p>
<p>这里引入另外一个可能出bug的地方，就是必须明确<strong>二分的值的定义和可能的值域</strong>。在下面这里，我给出二分值 i 的定义，<strong>i 作为 leftA的最后一个元素下一个index</strong>， 即，leftA index范围为<strong>左闭右开区间 [0, i)</strong>，可供选择的 i 的范围就是 <strong>[0, len(A)]</strong>，其中，最短为 i == 0，leftA为 [0, 0)，即为空；最长为 i == len(A)，leftA为[0, len(A))，即为A的全部。以下讨论下三种情况</p>
<ul>
<li>假设 leftA, leftB, rightA, rightB都不为空，且max(leftA) = l1, max(leftB) = l2, min(rightA) = r1, min(rightB) = r2<ul>
<li>已知排好序（所以l1 &lt; r1 &amp;&amp; l2 &lt; r2），所以只需要check l1 &lt; r2 &amp;&amp; l2 &lt; r1，如果符合，那就是正确分好四个部分，可以返回median了</li>
<li>如果 l1 &gt; r2，即 leftA 最大元素有比 rightB大的，那么说明A上分割点 i 还应该左移，让 l1 = max(leftA) 更小一点， 所以缩小二分区间为 [l, mid)</li>
<li>否则，可知 l2 &gt; r1，那么相反地，i 右移，即[mid+1, r)</li>
</ul>
</li>
<li>若 leftA为空，那就是不用check l1 &lt; r2了，我们<strong>把 l1 置 为 负无穷</strong>，让 l1 &lt; r2 永远满足</li>
<li>若 rightA为空，则无需check l2 &lt; r1，那么<strong>把r1 置为 正无穷</strong>， 让 l2 &lt; r1 永远满足</li>
<li>对leftB, rightB为空的情况同理。</li>
</ul>
<p>当我们分好两个部分之后，如果长度为奇数个，因为我们在计算一半长度half时候为向下取整，即比如有5个，那么 5 // 2 = 2，即len(leftA) + len(leftB) == 2，所以median是 min(r1, r2）（右边比较小的那个）</p>
<p>若长度为偶数个，那么就是left较大的(max(l1, l2))，和right 较小的 (min(r1, r2))的平均数。</p>
<p>附上python 代码如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMedianSortedArrays</span><span class="params">(self, nums1: List[int], nums2: List[int])</span> -&gt; float:</span></span><br><span class="line">        <span class="keyword">if</span> len(nums1) &gt; len(nums2):</span><br><span class="line">            nums1, nums2 = nums2, nums1</span><br><span class="line">        n1, n2 = len(nums1), len(nums2)</span><br><span class="line">        half = (n1 + n2) // <span class="number">2</span> <span class="comment"># how many elements in the left including pivot points</span></span><br><span class="line">        l, r = <span class="number">0</span>, n1 + <span class="number">1</span></span><br><span class="line">        <span class="comment"># means pick [0, l) from nums1</span></span><br><span class="line">        <span class="comment"># so if l == 0, [0, 0) means pick none</span></span><br><span class="line">        <span class="comment"># if l == n1, [0, n1) means pick all</span></span><br><span class="line">        <span class="keyword">while</span> l &lt; r:</span><br><span class="line">            mid = (l + r) // <span class="number">2</span></span><br><span class="line">            idx = half - mid</span><br><span class="line">            l1 = nums1[mid<span class="number">-1</span>] <span class="keyword">if</span> mid != <span class="number">0</span> <span class="keyword">else</span> -float(<span class="string">'inf'</span>)</span><br><span class="line">            l2 = nums2[idx<span class="number">-1</span>] <span class="keyword">if</span> idx &gt; <span class="number">0</span> <span class="keyword">else</span> -float(<span class="string">'inf'</span>)</span><br><span class="line">            r1 = nums1[mid] <span class="keyword">if</span> mid &lt; n1 <span class="keyword">else</span> float(<span class="string">'inf'</span>)</span><br><span class="line">            r2 = nums2[idx] <span class="keyword">if</span> idx != n2 <span class="keyword">else</span> float(<span class="string">'inf'</span>)</span><br><span class="line">            <span class="comment"># print(l, r, mid, '--', l1, l2, r1, r2)</span></span><br><span class="line">            <span class="keyword">if</span> l1 &lt;= r2 <span class="keyword">and</span> l2 &lt;= r1:</span><br><span class="line">                <span class="keyword">if</span> (n1 + n2) &amp; <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">return</span> min(r1, r2)</span><br><span class="line">                <span class="keyword">return</span> (max(l1, l2) + min(r1, r2)) / <span class="number">2</span></span><br><span class="line">            <span class="keyword">elif</span> l1 &gt; r2:</span><br><span class="line">                r = mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                l = mid + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="String-to-Integer-atoi"><a href="#String-to-Integer-atoi" class="headerlink" title="String to Integer (atoi)"></a><a href="https://leetcode.com/problems/string-to-integer-atoi" target="_blank" rel="noopener">String to Integer (atoi)</a></h2><p>一个水题，说是让把一个string转化成一个int，按照题目要求把每种情况都 <code>if</code> 下就行了，要求有以下几点</p>
<ul>
<li>数字左右两边可能有空格，后边可能有其它字符比如字母，都需要忽略</li>
<li>数字可能带正负号</li>
<li>如果string的开端不是正负号或者数字，那么它就不能被转化，则应该返回 0</li>
<li>注意你是在一个只能处理<code>int</code>的机器上，所以返回的数字需要在区间 [$−2^{31}, 2^{31} − 1$]里面</li>
</ul>
<p>需要注意的是，最后一点规定了题目只能使用 32位int，所以要有判断是否overflow的逻辑，而不能直接用<code>long</code>，贴几个可能的样例输入，以及corner cases:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Input</th>
<th>“    -42”</th>
<th>“4193 with words”</th>
<th>“words and 987”</th>
<th>“-91283472332”</th>
<th>2147483649</th>
<th>+-2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ouput</td>
<td>42</td>
<td>4193</td>
<td>0</td>
<td>-2147483648</td>
<td>2147483647</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<p>下面贴上 <code>c++</code> 代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">myAtoi</span><span class="params">(<span class="built_in">string</span> str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line">        reverse(str.begin(), str.end());</span><br><span class="line">        <span class="keyword">while</span> (!str.empty() &amp;&amp; str.back() == <span class="string">' '</span>) str.pop_back();</span><br><span class="line">        <span class="keyword">if</span> (str.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (str.back() == <span class="string">'-'</span>) sign = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span> (str.back() == <span class="string">'+'</span> || str.back() == <span class="string">'-'</span>) str.pop_back();</span><br><span class="line">        <span class="keyword">if</span> (str.empty() || str.back() &lt; <span class="string">'0'</span> || str.back() &gt; <span class="string">'9'</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (sign == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span> (!str.empty())&#123;</span><br><span class="line">                <span class="keyword">if</span> (str.back() &lt; <span class="string">'0'</span> || str.back() &gt; <span class="string">'9'</span>) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span> (ans &gt; INT_MAX / <span class="number">10.0</span> || (INT_MAX - ans*<span class="number">10</span>) &lt; str.back() - <span class="string">'0'</span>) <span class="keyword">return</span> INT_MAX;</span><br><span class="line">                ans = ans * <span class="number">10</span> - <span class="string">'0'</span> + str.back();</span><br><span class="line">                str.pop_back();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!str.empty())&#123;</span><br><span class="line">            <span class="keyword">if</span> (str.back() &lt; <span class="string">'0'</span> || str.back() &gt; <span class="string">'9'</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span> (ans &lt; INT_MIN / <span class="number">10.0</span> || (ans*<span class="number">10</span> &lt; INT_MIN + <span class="number">100</span> &amp;&amp; (ans*<span class="number">10</span> - INT_MIN) &lt; str.back() - <span class="string">'0'</span>)) <span class="keyword">return</span> INT_MIN;</span><br><span class="line">            ans = ans * <span class="number">10</span> + <span class="string">'0'</span> - str.back();</span><br><span class="line">            str.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="Gas-Station"><a href="#Gas-Station" class="headerlink" title="Gas Station"></a><a href="https://leetcode.com/problems/gas-station/" target="_blank" rel="noopener">Gas Station</a></h2><h3 id="题目描述-1"><a href="#题目描述-1" class="headerlink" title="题目描述"></a>题目描述</h3><p>你要旅行经过N个加油站，这N个加油站组成一个圈（环路）。给两个数组，一个是<code>gas</code>代表每个加油站各有多少单位的油，另一个是<code>cost</code>代表从某个加油站到它下一个加油站需要消费多少油。</p>
<p>要求如果你能从某个加油站出发绕N个加油站一圈的话，返回这个加油站的index，否则返回-1</p>
<p>例子：</p>
<blockquote>
<p>输入：</p>
<p>gas  = [1,2,3,4,5]<br>cost = [3,4,5,1,2]</p>
<p>输出：3</p>
<p>解释:<br>Start at station 3 (index 3) and fill up with 4 unit of gas. Your tank = 0 + 4 = 4<br>Travel to station 4. Your tank = 4 - 1 + 5 = 8<br>Travel to station 0. Your tank = 8 - 2 + 1 = 7<br>Travel to station 1. Your tank = 7 - 3 + 2 = 6<br>Travel to station 2. Your tank = 6 - 4 + 3 = 5<br>Travel to station 3. The cost is 5. Your gas is just enough to travel back to station 3.<br>Therefore, return 3 as the starting index.</p>
</blockquote>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>能肯定的一点是，如果所有的gas加起来没有cost多的话，那么肯定是不能绕一周的。那么反过来，如果gas的和不小于cost，是否能保证就有解呢？用题目中的例子画个图，发现确实是这样。</p>
<p>首先合并下两个数组，从 <code>gas</code> 减去 <code>cost</code>，那么新的数就代表从加油站 i 想去到 i+1，到达 i 的时候车上至少要有多少油，也可以理解为需要消耗多少油 （负为消耗，正为可以剩余）。</p>
<p>按照上边的说法，如果从第0个加油站出发，可以画出如下的图，横坐标代表加油站的index，纵坐标代表从第零个加油站到当前加油站 i ，一开始 需要多少油才能要到达下一个 i+1。比如在第0个的时候，需要 $gas[0] - cost[0] = 1 - 3 = -2$，在第1个的时候也需要 -2，但因为是从零出发的，原本已经需要-2了，所以在1的时候就累计需要-4了。</p>
<p><img src="/img/post_img/20200621173924573.png" alt="20200621173924573"></p>
<p>可以看到，在第二个加油站的时候需要的油最多，达到了-6，之后需要的油就不断减少了—即折线上升。因为总的油是够的，那如果从最低点开始（即第二个加油站），不就能把整个折线图往上推到直线 y = 0 上吗？</p>
<p>确实如此，因为你是从最低点开始的，那个时候是0，那么后面怎么折腾也不会再跌落到0。</p>
<p>假设从第二个加油站出发，可以得到一个新的图如下：</p>
<p><img src="/img/post_img/20200621175530790.png" alt="20200621175530790"></p>
<p>所以，这题其实只要先判断下总的油够不够，够的话就找到油最少的那个index i，返回 i+1就行了，可行的代码如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canCompleteCircuit</span><span class="params">(self, gas: List[int], cost: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> sum(gas) - sum(cost) &lt; <span class="number">0</span>: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">        stock = idx = <span class="number">0</span></span><br><span class="line">        minimun = float(<span class="string">'inf'</span>)</span><br><span class="line">        <span class="keyword">for</span> i, (g, c) <span class="keyword">in</span> enumerate(zip(gas, cost)):</span><br><span class="line">            stock += g - c</span><br><span class="line">            <span class="keyword">if</span> stock &lt; minimun:</span><br><span class="line">                minimun = stock</span><br><span class="line">                idx = i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> idx % len(gas)</span><br></pre></td></tr></table></figure>
<p>另外一种写法是，每次遇到存油小于0的（即从当前规定的起点不可行），就把开始的index设置为下一个，然后stock置为零，因为无论如何也有一个index是可行的，所以在这个index前面的不需要考虑。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canCompleteCircuit</span><span class="params">(self, gas: List[int], cost: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> sum(gas) - sum(cost) &lt; <span class="number">0</span>: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">        stock = idx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i, (g, c) <span class="keyword">in</span> enumerate(zip(gas, cost)):</span><br><span class="line">            stock += g - c</span><br><span class="line">            <span class="keyword">if</span> stock &lt; <span class="number">0</span>:</span><br><span class="line">                stock = <span class="number">0</span></span><br><span class="line">                idx = i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> idx</span><br></pre></td></tr></table></figure>
<h2 id="Word-Break-I-II"><a href="#Word-Break-I-II" class="headerlink" title="Word Break I/II"></a>Word Break I/II</h2><h3 id="题目描述-2"><a href="#题目描述-2" class="headerlink" title="题目描述"></a>题目描述</h3><p>给一个字典<strong>wordDict</strong>里面有一些单词，然后再给一个字符串<strong>s</strong>，想让你</p>
<ul>
<li>Word Break I: 判断 <strong>s</strong> 是不是能够由 <strong>wordDict</strong>里面的词构成<ul>
<li>Input: s = “leetcode”, wordDict = [“leet”, “code”]</li>
<li>Output: True<ul>
<li>because “leetcode” can be separated into “leet” + “code”</li>
</ul>
</li>
</ul>
</li>
<li>Word Break II: 找出所有可能的构成方式<ul>
<li>Input: s = “catsanddog” wordDict = [“cat”, “cats”, “and”, “sand”, “dog”]</li>
<li>Output: [“cats and dog”, “cat sand dog”]<ul>
<li>有两种构成方式，用空格隔开</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h3><p>这题是个经典的记忆化搜索题目，bottom up可以每次搜<code>s[i:]</code>，从后往前搜，用dp记录中间结果降低复杂度; Top down用递归同理。下面贴 Word Break II的代码，I同理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wordBreak</span><span class="params">(self, s: str, wordDict: List[str])</span> -&gt; List[str]:</span></span><br><span class="line">        wordDict = set(wordDict)</span><br><span class="line"><span class="meta">        @lru_cache(None)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(begin)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> begin &gt;= len(s): <span class="keyword">return</span> [<span class="string">""</span>]</span><br><span class="line">            res = []</span><br><span class="line">            <span class="keyword">for</span> end <span class="keyword">in</span> range(begin+<span class="number">1</span>, len(s)+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> s[begin:end] <span class="keyword">in</span> wordDict:</span><br><span class="line">                    head = (<span class="string">" "</span> <span class="keyword">if</span> begin <span class="keyword">else</span> <span class="string">""</span>) + s[begin:end]</span><br><span class="line">                    res.extend([head + item <span class="keyword">for</span> item <span class="keyword">in</span> dfs(end)])</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        <span class="keyword">return</span> dfs(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><p>在写top down时，这里python有个很好用的修饰器是 <code>lru_cache</code></p>
</li>
<li><p>它帮你记住当前参数的返回结果，下次函数被相同的参数调用时，会直接返回结果</p>
</li>
<li>其实也就是帮你自动化一个dp的过程，具体其它用法可以参考<a href="https://docs.python.org/3/library/functools.html#functools.lru_cache" target="_blank" rel="noopener">python文档</a></li>
</ul>
</blockquote>
<h2 id="Candy-Crush"><a href="#Candy-Crush" class="headerlink" title="Candy Crush"></a>Candy Crush</h2><h3 id="题目描述-3"><a href="#题目描述-3" class="headerlink" title="题目描述"></a>题目描述</h3><p>这题描述很简单，就是模拟完成糖果消消乐的消除过程 — </p>
<ul>
<li>用一个面板来表示糖果网格的2D整数数组，不同的正整数board[i][j]表示不同类型的糖果，值board[i][j] = 0表示位置(i,j)处的单元格为空</li>
<li>如果三个或三个以上相同类型的糖果在垂直或水平方向相邻，则将它们同时“压碎”-这些位置将变为空。</li>
<li>在将所有糖果同时压碎后，如果板上的空白区域上方有糖果，则这些糖果将掉落，直到它们同时撞到糖果或底部。（没有新的糖果会掉到顶部边界之外。）</li>
<li>完成上述步骤后，可能会存在更多可以被压碎的糖果。如果是这样，则需要重复以上步骤。</li>
<li>如果不存在更多可以压碎的糖果（例如，板子稳定），则返回当前的板子。</li>
</ul>
<p>例：</p>
<blockquote>
<p>输入：<br>board = [[110,5,112,113,114]，[210,211,5,213,214]，[310,311,3,313,314]，[410,411,412,5,414]，[5,1,512,3,3]，[610,4,1,613,614]，[710,1,2,713,714] ，[810,1,2,1,1]，[1,1,2,2,2]，[4,1,4,4,1014]]</p>
<p>输出：<br>[[0,0,0,0,0]，[0,0,0,0,0]，[0,0,0,0,0]，[110,0,0,0,114]，[210， 0,0,0,214]，[310,0,0,113,314]，[410,0,0,213,414]，[610,211,112,313,614]，[710,311,412,613,714]，[810,411,512,713,1014]]</p>
</blockquote>
<ul>
<li>注意：<ul>
<li>board长度将在[3，50]范围内。</li>
<li>board[i]长度将在[3，50]范围内。</li>
<li>每个board[i][j]最初都将以[1，2000]范围内的整数开头。</li>
</ul>
</li>
</ul>
<h3 id="解法-3"><a href="#解法-3" class="headerlink" title="解法"></a>解法</h3><p>就是一道普通模拟题目，对于模拟题目推荐用python这种高度抽象的语言，好写。</p>
<p>先讲讲模拟的思路</p>
<ol>
<li>首先第一步肯定是消除，直接遍历，然后判断是否有三个格子都是相等的就行了，比如水平的话，若<code>board[i][j] == board[i][j-1] == board[i][j-2]</code>，那么这三个格子都需要消除。<ul>
<li>因为有水平和垂直<strong>两种消除</strong>，它们可能share同一个格子（考虑L形的一横一竖均为3个格子的情形），因为不能在水平或垂直扫到符合条件的时候就直接将格子置为零。</li>
<li>注意到题目标明格子均为正数，那么我们可以将待消除的格子先变成<strong>相反数</strong>，然后处理完消除再进行一个把所有负数变成零的<strong>零化操作</strong>就行了。</li>
<li>那么，条件判断就变成了<code>abs(board[i][j]) == abs(board[i][j-1]) == abs(board[i][j-2])</code></li>
</ul>
</li>
<li>注意到横消除和竖直消除其实是一种操作，比如你只需要写个横消除，然后横消除后把矩阵<strong>顺时针旋转90度</strong>，再来个横消除，然后再<strong>逆时针旋转回来</strong>就行了。<ul>
<li>旋转在python里面是trivial的事情，只需要<strong>一行简单代码</strong>，比如逆时针旋转90度——先<code>zip(*board)</code>转置，然后在<code>[::-1]</code>颠倒就行了</li>
</ul>
</li>
<li>接下来是把空位（即0的格子）压满，同样只需要写个一个方向的拉，比如下文的<code>pull_left</code>，然后旋转跳跃…..<ul>
<li>压满就是用<code>filter</code>过滤下0，然后再在末端补齐下0保持每行的长度不变就行了。</li>
</ul>
</li>
<li>重复以上过程直到不能再消除。</li>
</ol>
<p>以下贴出我的解法，主要有几个点需要注意</p>
<ul>
<li>一是步骤比较多，推荐<strong>模块化</strong>，把每个功能抽象成一个函数，即可以增加代码可读性；又方便写完一个函数后即时unit-test该模块的功能是否完整，减少debug难度；还方便代码重复利用。</li>
<li>二是……好像也没啥了……</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">candyCrush</span><span class="params">(self, board: List[List[int]])</span> -&gt; List[List[int]]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> board <span class="keyword">or</span> <span class="keyword">not</span> board[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">return</span> board</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">eliminate</span><span class="params">(board)</span> -&gt; bool:</span></span><br><span class="line">            <span class="comment"># 水平方向的消除，返回是否有做任意消除</span></span><br><span class="line">            modified = <span class="keyword">False</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(len(board)):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">2</span>, len(board[i])):</span><br><span class="line">                    <span class="keyword">if</span> board[i][j] <span class="keyword">and</span></span><br><span class="line">                        abs(board[i][j<span class="number">-2</span>]) == abs(board[i][j<span class="number">-1</span>])</span><br><span class="line">                                            == abs(board[i][j]):</span><br><span class="line">                        board[i][j<span class="number">-2</span>] = board[i][j<span class="number">-1</span>] =</span><br><span class="line">                        board[i][j] = -abs(board[i][j])</span><br><span class="line">                        modified = <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">return</span> modified</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">zeroize</span><span class="params">(board)</span>:</span></span><br><span class="line">            <span class="comment"># 把负数标记给弄成0</span></span><br><span class="line">            <span class="keyword">return</span> [[max(i, <span class="number">0</span>) <span class="keyword">for</span> i <span class="keyword">in</span> line] <span class="keyword">for</span> line <span class="keyword">in</span> board]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">rotate</span><span class="params">(board, clockwise = True)</span>:</span></span><br><span class="line">            <span class="comment"># 旋转矩阵</span></span><br><span class="line">            Tboard = map(list,zip(*board))</span><br><span class="line">            <span class="keyword">if</span> clockwise:</span><br><span class="line">                <span class="keyword">return</span> [line[::<span class="number">-1</span>] <span class="keyword">for</span> line <span class="keyword">in</span> Tboard]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> list(Tboard)[::<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">pullleft</span><span class="params">(board)</span>:</span></span><br><span class="line">            <span class="comment"># 把零视为空格子，往左压</span></span><br><span class="line">            n_col = len(board[<span class="number">0</span>])</span><br><span class="line">            board = [list(filter(<span class="keyword">lambda</span> x:x, line)) <span class="keyword">for</span> line <span class="keyword">in</span> board]</span><br><span class="line">            board = [line+[<span class="number">0</span>]*(n_col-len(line)) <span class="keyword">for</span> line <span class="keyword">in</span> board]</span><br><span class="line">            <span class="keyword">return</span> board</span><br><span class="line"></span><br><span class="line">        modified = <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">while</span> modified:</span><br><span class="line">            modified = <span class="keyword">False</span></span><br><span class="line">            modified |= eliminate(board)</span><br><span class="line">            board = rotate(board)</span><br><span class="line">            modified |= eliminate(board)</span><br><span class="line">            board = zeroize(board)</span><br><span class="line">            board = pullleft(board)</span><br><span class="line">            board = rotate(board, <span class="keyword">False</span>)</span><br><span class="line">        <span class="keyword">return</span> board</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Coding/" rel="tag"># Coding</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/08/28/Internship-Experience-At-Baidu-USA/" rel="prev" title="Internship Experience at Baidu USA">
      <i class="fa fa-chevron-left"></i> Internship Experience at Baidu USA
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/05/31/monotonic-stack-and-queue/" rel="next" title="Intuition Between Monotonic Stack and Deque">
      Intuition Between Monotonic Stack and Deque <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Smallest-Common-Region"><span class="nav-number">1.</span> <span class="nav-text">Smallest Common Region</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Minesweeper"><span class="nav-number">2.</span> <span class="nav-text">Minesweeper</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Median-of-Two-Sorted-Arrays"><span class="nav-number">3.</span> <span class="nav-text">Median of Two Sorted Arrays</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目描述"><span class="nav-number">3.1.</span> <span class="nav-text">题目描述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解法"><span class="nav-number">3.2.</span> <span class="nav-text">解法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#String-to-Integer-atoi"><span class="nav-number">4.</span> <span class="nav-text">String to Integer (atoi)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Gas-Station"><span class="nav-number">5.</span> <span class="nav-text">Gas Station</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目描述-1"><span class="nav-number">5.1.</span> <span class="nav-text">题目描述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解法-1"><span class="nav-number">5.2.</span> <span class="nav-text">解法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Word-Break-I-II"><span class="nav-number">6.</span> <span class="nav-text">Word Break I/II</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目描述-2"><span class="nav-number">6.1.</span> <span class="nav-text">题目描述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解法-2"><span class="nav-number">6.2.</span> <span class="nav-text">解法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Candy-Crush"><span class="nav-number">7.</span> <span class="nav-text">Candy Crush</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目描述-3"><span class="nav-number">7.1.</span> <span class="nav-text">题目描述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解法-3"><span class="nav-number">7.2.</span> <span class="nav-text">解法</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Daniel"
      src="/img/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Daniel</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Crysple" title="GitHub → https://github.com/Crysple" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:gdzejlin@gmail.com" title="E-Mail → mailto:gdzejlin@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-Danny"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Daniel</span>
</div><script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

    

  

</body>
</html>
